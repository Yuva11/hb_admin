<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/p/layout.xhtml">
	<ui:define name="action_header">
		<script>
			function showSettingDlg(xhr, status, args) {
				if (args.validate)
					PRODUCTSETTDLG.show();
				else
					$("#PDTMSG").show();
			}
		</script>

	</ui:define>
	<ui:define name="content">

		<h:form id="form1" prependId="false">
			<p:growl id="PDTMSG" />
			<ui:param name="t" value="#{dealBean.publishDeal}" />
			<div id="main_container">
				<div class="head_bottom_listbg">
					<div id="container">
						<div class="head_list_box">
							<h3>Deal</h3>
						</div>
						<div class="head_list_box1">
							<div class="left_arrow_smal"></div>
							<h3>
								<span>Approve Deals</span>
							</h3>
						</div> 
					</div>
				</div>
				
				<div class="contant_table_box">
				<div class="contant_main"> 
					<div class="text_box_main"> 
					<!-- 1 -->
						<div class="label_box">
							<label class="text">Merchant</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="Merchant" styleClass="input_text_box" value="#{t.merchantbranch.merchant.name}" tabindex="1"  minlength="4"  maxlength="45"  disabled="true">   
							</p:inputText>
						</div>
					<!-- 3 -->
						<div class="label_box">
							<label class="text">Deal Name</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="DealName" styleClass="input_text_box" value="#{t.name}" tabindex="3"  minlength="4"  maxlength="45"  disabled="true">   
							</p:inputText>
						</div>
						
						
					<!-- 5 -->
						<p:outputPanel id="contenttype" >
							<p:outputPanel id="buyoutId" rendered="#{(t.contentType eq 'BUYOUT')}">
								<div class="label_box">
									<label class="text">Deal Template</label>
								</div>
								<div class="input_box">
									<h:selectOneMenu styleClass="input_text_box" value="#{t.dealTemplate}" tabindex="6"  disabled="true"> 
										<f:selectItem itemLabel="NORMAL" itemValue="NORMAL" />
										<f:selectItem itemLabel="FULL_IMAGE" itemValue="FULL_IMAGE" />
									</h:selectOneMenu>
								</div>
								
							</p:outputPanel>
							
						<div class="label_box">
							<label class="text">Validity Start Date</label>
						</div>
						<div class="input_box_incress">
							<p:calendar id="startDate" value="#{dealBean.startDate}" pattern="dd-MM-yyyy HH:mm" showOn="button" tabindex="9" mindate="#{dealBean.startDate}"  disabled="true"/> 
						</div>
							<p:outputPanel id="promotionId" rendered="#{(t.contentType eq 'PROMOTION')}">
								<div class="label_box">
									<label   class="text">Coupon Code</label>
								</div>
								<div class="input_box">
									<p:inputText styleClass="input_text_box" id="coupon-code" value="#{t.couponcode}" tabindex="7" disabled="true"> 
									</p:inputText> 
								</div>
							</p:outputPanel>
						
						</p:outputPanel>
						<div class="label_box">
							<label   class="text">Food Category</label>
						</div>
						<div class="input_box">   
							<p:inputText  styleClass="input_text_box" value="#{t.foodcategory.name}" tabindex="4"  minlength="4"  maxlength="45" disabled="true" >   
							</p:inputText> 
						</div>
						
						<!-- 7 -->
						
						
						<!-- 10 -->
						<p:outputPanel rendered="#{t.contentType eq 'BUYOUT'}">
						<div class="label_box">
							<label class="text">Opening Qty</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="openingQty" styleClass="input_text_box" value="#{t.openingQuantity}" tabindex="13"   disabled="true"> 
							</p:inputText>
						</div>
						</p:outputPanel>
						<!-- 12 -->
						<p:outputPanel rendered="#{t.contentType eq 'BUYOUT'}">
						<div class="label_box">
							<label class="text">Deal Price</label>
						</div>
						<div class="input_box_incress">
							<p:inputText styleClass="input_text_box" id="deal-price" 
								value="#{t.dealPrice}" tabindex="15"  maxlength="8" disabled="true"> 
								</p:inputText> 
						</div>
						 </p:outputPanel>
					
						 
						<div class="label_box">
							<label class="text">Delivery Methods</label>
						</div>
						<div class="input_box_incress">
							<p:selectManyCheckbox id="grid" value="#{dealBean.selectedDeliveryType}" layout="grid" columns="1" converter="gec" disabled="true" tabindex="17">
								<f:selectItems value="#{dealBean.dealDeliveryType}" var="it" itemLabel="#{it.type}" itemValue="#{it}" />
							</p:selectManyCheckbox>
						</div> 
					</div>
					<!-- End Of 1st Part --> 
					<div class="text_box_main1">
					<!-- 2 -->
						<div class="label_box">
							<label class="text">Branch</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="Branch" styleClass="input_text_box" value="#{t.merchantbranch.branchName}" tabindex="2"  minlength="4"  maxlength="45" disabled="true"  >   
							</p:inputText>
						</div>
					<!-- 4 -->
						<div class="label_box">
							<label class="text">Deal Details</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="DealDetail" styleClass="input_text_box" value="#{t.details}" tabindex="4"  minlength="4"  maxlength="45" disabled="true" >   
							</p:inputText>
						</div>
						
						<div class="label_box">
							<label class="text">Cuisine</label>
						</div>
						<div class="input_box">
						<p:inputText  styleClass="input_text_box" value="#{dealBean.cuisine}" tabindex="4"  minlength="4"  maxlength="45" disabled="true" >   
							</p:inputText> 
						</div>
						<div class="label_box">
							<label class="text">Food Type</label>
						</div>
						<div class="input_box">
							<p:selectOneRadio id="food-type" value="#{t.foodType}"  tabindex="8" disabled="true" >
								<f:selectItem itemLabel="Veg" itemValue="VEG" />
								<f:selectItem itemLabel="Non-Veg" itemValue="NON_VEG" />
							</p:selectOneRadio> 
						</div>
							
							<div class="label_box">
							<label class="text">Validity End Date</label>
						</div>
						<div class="input_box_incress">
							<p:calendar id="endDate" value="#{dealBean.endDate}" pattern="dd-MM-yyyy HH:mm" showOn="button" tabindex="9" mindate="#{dealBean.startDate}" disabled="true"/>
						</div>
					<!-- 6 -->
						
					<div></div>
						
						<div class="label_box">
							<label class="text">Original Price</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="OriginalPrice" styleClass="input_text_box" value="#{t.originalPrice}" tabindex="2"  minlength="4"  maxlength="45"  disabled="true">   
							</p:inputText>
						</div>
						<p:outputPanel rendered="#{t.contentType eq 'BUYOUT'}">
						<div class="label_box">
							<label class="text">Deal Discount</label>
						</div>
						<div class="input_box_incress">
							<p:inputText id="discount" styleClass="input_text_box" value="#{t.dealDiscountPercent}" tabindex="2"  minlength="4"  maxlength="45" disabled="true" >   
							</p:inputText>
						</div>
					</p:outputPanel>
				
						<div class="label_box">
							<label class="text">Redeem Allowed</label>
						</div>
						<div class="input_box">
							<h:selectOneMenu styleClass="input_text_box" id="reedem" value="#{t.reedem}" tabindex="21" disabled="true" >
									<f:selectItem itemLabel="Loyality Points" itemValue="Loyality Points" />
									<f:selectItem itemLabel="Other Payments" itemValue="Other Payments" />
								</h:selectOneMenu>
						</div>
						<div class="label_box">
							<label class="text">Status</label>
						</div>
						
						 <div class="input_box">
							<h:selectOneMenu styleClass="input_text_box" id="Status" value="#{t.status}" tabindex="20"  disabled="true">
									<f:selectItem itemLabel="Active" itemValue="4" />
									<f:selectItem itemLabel="Approve" itemValue="2" />
									<f:selectItem itemLabel="Blocked" itemValue="5" /> 
								</h:selectOneMenu>
						</div>
						
						<p:outputPanel rendered="#{((!empty dealBean.delivery) and dealBean.delivery.type eq 'HOMEDELIVERY' and t.contentType eq 'BUYOUT')}">
						<div class="label_box">
							<label class="text">Delivery Charge</label>
						</div>
						<div class="input_box_incress">
							<p:inputText styleClass="input_text_box" 
								value="#{t.deliveryCharge}" tabindex="15"  maxlength="8" disabled="true"> 
								</p:inputText> 
						</div>
						 </p:outputPanel>
						
						<p:outputPanel rendered="#{((!empty dealBean.delivery) and dealBean.delivery.type eq 'HOMEDELIVERY' and t.contentType eq 'BUYOUT')}">
						<div class="label_box">
							<label class="text">Delivery Time</label>
						</div>
						<div class="input_box_incress">
							<p:inputText styleClass="input_text_box" 
								value="#{t.deliveryTime}" tabindex="15"  maxlength="8" disabled="true"> 
								</p:inputText> 
						</div>
						 </p:outputPanel>
					</div> 
					<div class="text_box_main2"> 
						<div class="upload_box"> 
							<img  src="#{dealBean.baseUrl}/images/merchant/deal/#{t.merchantbranch.merchant.id}_#{t.id}.png" width="100%" height="349px;"/>
						</div> 
					</div>
					
					<div class="save_box">
			 
			 <div class="cancel_button"> 
					<h:commandLink  value="Approve" 
						action="#{dealBean.publishDeal}" immediate="true" ></h:commandLink> 
					<h:commandLink  value="Cancel"  
						action="#{dealBean.showBuyoutDeals}" immediate="true"></h:commandLink>
				</div>
			
					</div>
				</div>
			</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
